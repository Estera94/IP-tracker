{"version":3,"sources":["app.js"],"names":["mymap","L","map","setView","marker","addTo","tileLayer","attribution","maxZoom","id","tileSize","zoomOffset","accessToken","getApiUrl","ipAddress","fetch","response","json","data","injectingHtml","input","document","querySelector","value","latitude","location","lat","longitude","lng","setLatLng","source","innerHTML","template","Handlebars","compile","temp","mainContent","remove","target","addEventListener","e","preventDefault"],"mappings":";;;;;;AACA,IAAIA,KAAK,GAAGC,CAAC,CAACC,GAAF,CAAM,QAAN,EAAgBC,OAAhB,CAAwB,CAAC,MAAD,EAAS,CAAC,IAAV,CAAxB,EAAyC,EAAzC,CAAZ;AACA,IAAIC,MAAM,GAAGH,CAAC,CAACG,MAAF,CAAS,CAAC,IAAD,EAAO,CAAC,IAAR,CAAT,EAAwBC,KAAxB,CAA8BL,KAA9B,CAAb;AAEAC,CAAC,CAACK,SAAF,CAAY,oFAAZ,EAAkG;AAC9FC,EAAAA,WAAW,EAAE,0JADiF;AAE9FC,EAAAA,OAAO,EAAE,EAFqF;AAG9FC,EAAAA,EAAE,EAAE,oBAH0F;AAI9FC,EAAAA,QAAQ,EAAE,GAJoF;AAK9FC,EAAAA,UAAU,EAAE,CAAC,CALiF;AAM9FC,EAAAA,WAAW,EAAE;AANiF,CAAlG,EAOGP,KAPH,CAOSL,KAPT;;SASea,S;;;;;uEAAf,iBAAyBC,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACyBC,KAAK,0FAAmFD,SAAnF,EAD9B;;AAAA;AACQE,YAAAA,QADR;AAAA;AAAA,mBAEqBA,QAAQ,CAACC,IAAT,EAFrB;;AAAA;AAEQC,YAAAA,IAFR;AAAA,6CAGWA,IAHX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAMeC,a;;;;;2EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACQC,YAAAA,KADR,GACgBC,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCC,KADxD;AAAA;AAAA,mBAEqBV,SAAS,CAACO,KAAD,CAF9B;;AAAA;AAEQF,YAAAA,IAFR;AAGQM,YAAAA,QAHR,GAGoBN,IAAI,CAACO,QAAL,CAAcC,GAHlC;AAIQC,YAAAA,SAJR,GAIqBT,IAAI,CAACO,QAAL,CAAcG,GAJnC;AAKIxB,YAAAA,MAAM,CAACyB,SAAP,CAAiB,CAACL,QAAD,EAAWG,SAAX,CAAjB;AACA3B,YAAAA,KAAK,CAACG,OAAN,CAAc,CAACqB,QAAD,EAAWG,SAAX,CAAd;AACMG,YAAAA,MAPV,GAOmBT,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCS,SAP3D;AAQUC,YAAAA,QARV,GAQqBC,UAAU,CAACC,OAAX,CAAmBJ,MAAnB,CARrB;AASUK,YAAAA,IATV,GASiBd,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CATjB;AAUUc,YAAAA,WAVV,GAUwBf,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAVxB;;AAWI,gBAAGa,IAAH,EAAS;AACLA,cAAAA,IAAI,CAACE,MAAL;AACH,aAFD,MAEO,IAAGD,WAAH,EAAe;AAClBA,cAAAA,WAAW,CAACC,MAAZ;AACH;;AACKC,YAAAA,MAhBV,GAgBmBjB,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAhBnB;AAiBIgB,YAAAA,MAAM,CAACP,SAAP,IAAoBC,QAAQ,CAACd,IAAD,CAA5B;;AAjBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAoBAG,QAAQ,CAACC,aAAT,CAAuB,SAAvB,EAAkCiB,gBAAlC,CAAmD,OAAnD,EAA4D,UAACC,CAAD,EAAO;AAC/DA,EAAAA,CAAC,CAACC,cAAF;AACAtB,EAAAA,aAAa;AAChB,CAHD","sourcesContent":["\nvar mymap = L.map('issMap').setView([51.505, -0.09], 10);\nvar marker = L.marker([51.5, -0.09]).addTo(mymap);\n\nL.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {\n    attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery Â© <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n    maxZoom: 18,\n    id: 'mapbox/streets-v11',\n    tileSize: 512,\n    zoomOffset: -1,\n    accessToken: 'pk.eyJ1IjoiZXN0ZXJhMTIzIiwiYSI6ImNrcWNmNjN4ZzB2cmsydm92OXgzeHM1MHoifQ.BlWqQ0Yc4fqR4mF_p1rcgg'\n}).addTo(mymap);\n\nasync function getApiUrl(ipAddress) {\n    let response = await fetch(`https://geo.ipify.org/api/v1?apiKey=at_tdu908rqI4OBlxCEVWNgbWcnMLbnt&ipAddress=${ipAddress}`)\n    let data = await response.json()\n    return data\n}\n\nasync function injectingHtml() {\n    let input = document.querySelector(\".form-control\").value;\n    let data = await getApiUrl(input)\n    let latitude =  data.location.lat\n    let longitude =  data.location.lng\n    marker.setLatLng([latitude, longitude])\n    mymap.setView([latitude, longitude])\n    const source = document.querySelector('#dataTemplate').innerHTML\n    const template = Handlebars.compile(source)\n    const temp = document.querySelector('#temp')\n    const mainContent = document.querySelector('.main-content')\n    if(temp) {\n        temp.remove()\n    } else if(mainContent){\n        mainContent.remove()\n    }\n    const target = document.querySelector('#content')\n    target.innerHTML += template(data)\n}\n\ndocument.querySelector('.submit').addEventListener('click', (e) => {\n    e.preventDefault()\n    injectingHtml()\n})"],"file":"app.js"}